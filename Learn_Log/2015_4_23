title:broadcast receiver
author:xuran

基本上来说，broadcast recevier其实就是windows编程中的消息处理函数，或者是窗口回调函数。都是用来处理和接受我们自定义或者是系统的消息的。至于消息的分发和创建机制和windows中一样，都是由操作系统，消息队列，消息，looper来进行管理的。


broadcast reciver一般来说接受两种消息，一种是常规消息，一种是排序消息。常规消息的话可能在接受的顺序上不做限制，一般来说都是根据brocast reciver在清单文件中的注册顺序来进行确定接受的顺序的。但是排序消息就会根据broadcast reciver本身的优先级来确定接收消息的顺序，数字越高，表示优先级越高。


broadcast reciver基本和service的使用方式是相同的，都是继承父类，但是它相对来说简单一点，只要重载一个onrecive的方法，就可以对接收的消息进行处理。当然，android中还是依靠intent来传递消息的。

另外还有一点需要注意的是，broadcast reciver是四大组件之一，他的使用必须要在清单文件中进行注册。如果想要接收系统提供给我们的消息，比如短信来了，那么我们还需要在清单文件中加入相应的权限。

发送消息的时候，是异步的，但是在接收消息的时候，Onrecive函数是运行在主线程中的，所以耗时操作是不能够放在主线程中的。否则的话，会造成ANR错误