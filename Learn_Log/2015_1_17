title:manifest.xml文件的解析,application的声明周期和回调函数
author:xuran


manifest是应用程序的配置文件，可以配置应用程序运行的第一个窗体.
文件当中所有的资源标签都必须小写，而且manifest application这两个标签有且仅有一个.同一级别的元素，放置的位置可以随意调整。每一个元素都必须带有一个名字的属性，其余的属性可以自选。
安卓系统在识别每一个进程的时候，通常是根据这个进程所在的包名进行标识的.


一个应用程序安装的时候,会自动把这个程序的Manifest文件添加到系统的一张索引表内，在我们点击这个应用的图标的时候，就会根据这个索引表的信息进行一些运行前的检查，比如，sdk版本对不对，是不是需要一些特殊的权限需要我们允许。定义很多activity,但是只是在用到的时候才会实例化.所以，如果我们定义多个activity并且在代码中需要用，那么一定要在Manifest文件里面进行定义。如果我们没有用到，那么即使不注册也不会出错。


android进程一共5个等级:活动进程（在前台运行的,安全优先级高,不会被系统干掉）、可见进程(没有在前台运行,失去焦点,没有完全隐藏，可以看见)、服务进程(正在运行的，但是又没有在上述两种状态的进程),后台进程(按下Home)，空进程(没有任何和进程有关的东西在运行，仅仅作为一个缓存，下一次打开比较快速).
上述进程的安全性顺序从高到低。


进程的运行是又package manager来进行管理.按下back和home并不能使得进程真正的退出，而知识改变了进程的等级。真正要关闭进程需要系统底层的支撑。想要在代码内部自定义的退出这个进程的话，要使用system.exit(). finish方法只是退出当前的activity. 除了使用系统的函数之外，可以使用android下面的一个有关进程的包，里面有一个Killprocess的方法来结束进程。其中结束进程可能需要进程号，但是同样有mypid()的方法来获取我们所要的信息。



进程的启动：
一个进程也是一个类，万物都是类，我们创建的一个安卓的项目，默认在清单文件中指定了系统android.app里面的application。但是，我们可以自己继承这一个类，然后重新实现，添加一些我们自己对这个类的一些设置。继承这个类，要重新实现一些父类的成员函数。


在manifest文件中，默认是使用了系统的application类，所以在appliacation的标签下，没有指定application的名字。如果要使用自定义的类，那么就要指定我们定义的类的名字。


现在整个安卓的helloworld项目里面有两个java文件，一个是activity文件，还有一个就是application的类文件。